<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TOD Realtime – 40 Truth 40 Dare</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="bg-neutral-950 text-neutral-100 min-h-screen flex items-center justify-center p-4"><div class="w-full max-w-xl space-y-6">  <div id="login" class="bg-neutral-900 p-6 rounded-2xl space-y-4">
    <h1 class="text-2xl font-bold text-center">Truth or Dare – Live</h1>
    <input id="nama" class="w-full p-3 rounded-xl bg-neutral-800" placeholder="Nama kamu" />
    <button id="mulai" class="w-full bg-indigo-600 p-3 rounded-xl">Masuk</button>
  </div>  <div id="game" class="hidden space-y-6">
    <div class="bg-neutral-900 p-6 rounded-2xl min-h-[120px] flex flex-col justify-center text-center">
      <span id="tipe" class="text-xs tracking-widest opacity-60"></span>
      <p id="isi" class="text-lg font-semibold"></p>
      <span id="pembuat" class="text-xs opacity-40 mt-2"></span>
    </div><div class="flex gap-4">
  <button id="truth" class="flex-1 bg-indigo-600 p-3 rounded-xl">Truth</button>
  <button id="dare" class="flex-1 bg-rose-600 p-3 rounded-xl">Dare</button>
</div>

<div class="bg-neutral-900 p-4 rounded-2xl h-56 overflow-y-auto space-y-2">
  <div id="log"></div>
</div>

  </div></div><script>
const SUPABASE_URL = 'https://rruxlxoeelxjjjmhafkc.supabase.co';
const SUPABASE_KEY = 'PASTE_ANON_KEY_KAMU_DI_SINI';
const sb = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

let user = '';

const TRUTH = [
"Kebohongan paling sering kamu ulang ke diri sendiri apa?",
"Hal apa tentang dirimu yang kamu takut orang lain tahu?",
"Pernah iri ke teman dekat sendiri?",
"Keputusan terbesar yang masih kamu ragukan?",
"Kapan terakhir berpura-pura baik-baik saja?",
"Orang yang ingin kamu mintai maaf tapi belum?",
"Bagian masa lalu yang ingin dihapus?",
"Definisi bahagia versimu sekarang?",
"Pernah memanfaatkan orang lain?",
"Hal paling egois yang pernah kamu lakukan?",
"Lebih takut gagal atau sukses?",
"Kebiasaan buruk yang kamu pelihara?",
"Pernah jadi orang palsu?",
"Apa yang bikin kamu insecure?",
"Pernah mencintai lebih dari diri sendiri?",
"Hal yang paling kamu sesali?",
"Apa yang kamu sembunyikan?",
"Kapan terakhir jujur ke diri sendiri?",
"Hal yang bikin kamu kehilangan respek ke orang?",
"Jika tidak dihakimi, apa yang ingin kamu lakukan?",
"Orang paling berpengaruh di hidupmu?",
"Pernah merasa tertinggal?",
"Hal kecil yang paling menyakitkan?",
"Ketakutan terbesarmu?",
"Makna cukup menurutmu?",
"Pernah bertahan di situasi toxic?",
"Hal yang sulit kamu maafkan dari diri sendiri?",
"Bagian hidup yang bikin kamu lelah?",
"Pernah ingin menyerah tapi lanjut?",
"Hal yang kamu kejar tapi ragu?",
"Pernah merasa sendirian?",
"Kebohongan sosial yang sering kamu lakukan?",
"Ketakutan masa depanmu?",
"Pernah merasa tidak pantas dicintai?",
"Hal yang bikin kamu merasa hidup?",
"Jika hidup berhenti setahun lagi, apa yang ingin diperbaiki?",
"Nilai hidup yang mulai kamu ragukan?",
"Hal yang ingin orang pahami tentangmu?",
"Pernah membenci diri sendiri?",
"Apa yang ingin kamu akui sekarang?"
];

const DARE = [
"Tatap seseorang 30 detik tanpa bicara.",
"Kirim pesan aku lagi mikirin kamu.",
"Ceritakan satu kegagalan.",
"Ucapkan satu kalimat jujur yang biasa kamu tahan.",
"Puji seseorang dengan serius.",
"Akui satu kebiasaan buruk.",
"Diam selama satu menit.",
"Tulis satu kalimat untuk dirimu di masa depan.",
"Ungkapkan satu rasa syukur.",
"Akui satu ketakutan.",
"Hapus satu pesan lama.",
"Ceritakan momen paling rapuhmu.",
"Tarik napas dalam lima kali.",
"Akui satu prasangka.",
"Katakan aku butuh istirahat.",
"Sebutkan satu orang yang ingin kamu lindungi.",
"Ceritakan mimpi yang kamu pendam.",
"Akui satu kesalahan besar.",
"Ceritakan satu penyesalan.",
"Katakan satu hal baik tentang dirimu.",
"Dengarkan tanpa menyela.",
"Akui satu insecurity.",
"Ceritakan kegagalan terbesar.",
"Tulis satu kata tentang hidupmu.",
"Akui satu kebohongan kecil.",
"Sebutkan satu hal yang ingin kamu lepaskan.",
"Katakan aku capek.",
"Ceritakan satu kenangan membekas.",
"Akui satu harapan yang belum tercapai.",
"Tutup mata 30 detik.",
"Sebutkan satu hal yang ingin kamu pelajari ulang.",
"Ceritakan satu titik balik hidupmu.",
"Akui satu rasa takut tersembunyi.",
"Ucapkan terima kasih dengan tulus.",
"Katakan satu hal yang ingin kamu perbaiki.",
"Ceritakan pelajaran hidup terberat.",
"Akui emosi yang kamu rasakan.",
"Tulis satu kalimat jujur tanpa sensor.",
"Katakan satu hal yang ingin kamu dengar.",
"Tarik napas dan bilang aku masih bertahan."
];

const pick = arr => arr[Math.floor(Math.random() * arr.length)];

mulai.onclick = () => {
  user = nama.value.trim();
  if (!user) return alert('Isi nama dulu');
  login.classList.add('hidden');
  game.classList.remove('hidden');

  sb.channel('tod')
    .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'Tantangan' }, p => render(p.new))
    .subscribe();
};

truth.onclick = () => kirim('TRUTH', pick(TRUTH));
dare.onclick = () => kirim('DARE', pick(DARE));

async function kirim(tipe, isi) {
  await sb.from('Tantangan').insert({ tipe, isi, pembuat: user });
}

function render(d) {
  tipe.textContent = d.tipe;
  isi.textContent = d.isi;
  pembuat.textContent = 'oleh ' + d.pembuat;

  const div = document.createElement('div');
  div.className = 'text-xs opacity-60';
  div.textContent = `${d.pembuat}: ${d.isi}`;
  log.prepend(div);
}
</script></body>
    </html>
